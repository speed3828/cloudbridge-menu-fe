apiVersion: 1

contactPoints:
  - name: cloud-costs-team
    receivers:
      - uid: slack-notifications
        type: slack
        settings:
          url: ${SLACK_ALERT_URL}
          title: CloudBridge ë¹„ìš© ì•Œë¦¼
          text: |-
            {{ if eq .Status "firing" }}ğŸš¨{{ else }}âœ…{{ end }} {{ .CommonLabels.alertname }}
            
            {{ .CommonAnnotations.description }}
            
            {{ if eq .Status "firing" }}
            *ì•Œë¦¼ ë°œìƒ ì‹œê°:* {{ .StartsAt.Format "2006-01-02 15:04:05" }}
            {{ else }}
            *ì•Œë¦¼ í•´ì œ ì‹œê°:* {{ .EndsAt.Format "2006-01-02 15:04:05" }}
            {{ end }}
          mentionChannel: here
          sendResolved: true

policies:
  - receiver: cloud-costs-team
    group_by: ['alertname', 'category']
    group_wait: 30s
    group_interval: 5m
    repeat_interval: 4h
    match:
      category: costs 